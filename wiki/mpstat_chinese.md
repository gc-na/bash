# [Linux] Bash mpstat 用法: 显示 CPU 使用情况

## 概述
mpstat 命令用于显示各个 CPU 的使用情况，包括用户、系统、空闲和等待等时间的百分比。它是监控系统性能的重要工具，特别是在多核处理器系统中。

## 用法
mpstat 的基本语法如下：
```bash
mpstat [options] [arguments]
```

## 常用选项
- `-P ALL`：显示所有 CPU 的统计信息。
- `-u`：显示 CPU 使用情况。
- `-h`：以人类可读的格式显示输出。
- `-t`：显示时间戳。
- `interval`：指定更新的时间间隔（以秒为单位）。
- `count`：指定输出的次数。

## 常见示例
1. 显示所有 CPU 的使用情况：
   ```bash
   mpstat -P ALL
   ```

2. 每 2 秒更新一次，显示 CPU 使用情况，持续 5 次：
   ```bash
   mpstat 2 5
   ```

3. 显示 CPU 使用情况，并以人类可读的格式输出：
   ```bash
   mpstat -h
   ```

4. 显示 CPU 使用情况，包括时间戳：
   ```bash
   mpstat -t
   ```

## 提示
- 在监控高负载系统时，使用 `-P ALL` 选项可以帮助你更好地了解每个 CPU 的负载情况。
- 定期运行 mpstat 可以帮助你识别性能瓶颈，建议结合其他监控工具使用。
- 使用 `-u` 选项可以快速查看 CPU 的用户和系统时间，帮助你判断 CPU 的使用效率。