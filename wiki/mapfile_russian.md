# [Linux] Bash mapfile Использование: Чтение файлов в массивы

## Обзор
Команда `mapfile` в Bash используется для чтения строк из файла и сохранения их в массив. Это позволяет удобно обрабатывать содержимое файла, не прибегая к сложным манипуляциям с текстом.

## Использование
Основной синтаксис команды выглядит следующим образом:
```bash
mapfile [options] [arguments]
```

## Общие параметры
- `-t`: Удаляет символы новой строки из каждой строки, считываемой в массив.
- `-n <number>`: Читает только указанное количество строк.
- `-O <number>`: Указывает индекс, с которого начинать запись в массив.
- `-s <number>`: Пропускает указанное количество строк перед началом чтения.

## Общие примеры
Вот несколько практических примеров использования команды `mapfile`:

### Пример 1: Чтение файла в массив
```bash
mapfile lines < файл.txt
echo "${lines[@]}"
```
В этом примере содержимое `файл.txt` будет загружено в массив `lines`, и затем все строки будут выведены на экран.

### Пример 2: Удаление символов новой строки
```bash
mapfile -t lines < файл.txt
echo "${lines[@]}"
```
Здесь флаг `-t` удаляет символы новой строки, что позволяет выводить строки без лишних пробелов.

### Пример 3: Чтение первых 5 строк
```bash
mapfile -n 5 lines < файл.txt
echo "${lines[@]}"
```
Этот пример считывает только первые 5 строк из `файл.txt` в массив `lines`.

### Пример 4: Пропуск первых 2 строк
```bash
mapfile -s 2 lines < файл.txt
echo "${lines[@]}"
```
В этом случае команда пропускает первые 2 строки файла и загружает оставшиеся в массив.

## Советы
- Используйте флаг `-t`, если вам не нужны символы новой строки, чтобы избежать неожиданных пробелов в выводе.
- Помните, что массивы в Bash нумеруются с нуля, поэтому при использовании параметров `-O` и `-s` учитывайте это.
- Для больших файлов может быть полезно использовать `-n` для ограничения количества считываемых строк, чтобы избежать чрезмерного потребления памяти.