# [Linux] Bash set การตั้งค่า: คำสั่งสำหรับกำหนดค่าตัวแปรในเชลล์

## Overview
คำสั่ง `set` ใน Bash ใช้สำหรับกำหนดค่าตัวแปรและการตั้งค่าต่าง ๆ ในเชลล์ โดยสามารถควบคุมพฤติกรรมของเชลล์และการทำงานของสคริปต์ได้

## Usage
รูปแบบพื้นฐานของคำสั่ง `set` คือ:

```bash
set [options] [arguments]
```

## Common Options
- `-e`: ทำให้เชลล์หยุดทำงานเมื่อคำสั่งใดคำสั่งหนึ่งล้มเหลว
- `-u`: แจ้งเตือนเมื่อมีการใช้ตัวแปรที่ยังไม่ได้กำหนดค่า
- `-x`: แสดงคำสั่งที่กำลังทำงานอยู่ในขณะนั้น
- `-o`: ใช้เพื่อเปิดหรือปิดฟีเจอร์บางอย่างในเชลล์ เช่น `-o noclobber` เพื่อป้องกันการเขียนทับไฟล์

## Common Examples
1. **หยุดทำงานเมื่อคำสั่งล้มเหลว**
   ```bash
   set -e
   command1
   command2  # หาก command1 ล้มเหลว จะไม่ทำ command2
   ```

2. **แจ้งเตือนเมื่อใช้ตัวแปรที่ไม่ได้กำหนด**
   ```bash
   set -u
   echo $undefined_variable  # จะแจ้งเตือนว่าใช้ตัวแปรที่ไม่ได้กำหนด
   ```

3. **แสดงคำสั่งที่กำลังทำงาน**
   ```bash
   set -x
   echo "Hello, World!"  # จะแสดงคำสั่ง echo ก่อนที่จะทำงาน
   ```

4. **เปิดใช้งานการป้องกันการเขียนทับไฟล์**
   ```bash
   set -o noclobber
   echo "Hello" > file.txt  # จะทำงานได้ แต่ถ้ามี file.txt อยู่แล้วจะไม่เขียนทับ
   ```

## Tips
- ใช้ `set -e` เพื่อช่วยในการตรวจสอบข้อผิดพลาดในสคริปต์
- ควรใช้ `set -u` เพื่อป้องกันข้อผิดพลาดจากการใช้ตัวแปรที่ไม่ได้กำหนด
- หากต้องการดีบักสคริปต์ ให้ใช้ `set -x` เพื่อดูคำสั่งที่ถูกเรียกใช้ในระหว่างการทำงาน