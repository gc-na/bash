# [Linux] Bash tcpdump использование: захват сетевого трафика

## Обзор
Команда `tcpdump` используется для захвата и анализа сетевого трафика, проходящего через интерфейсы системы. Она позволяет пользователям просматривать пакеты данных, что полезно для диагностики сетевых проблем и мониторинга сетевой активности.

## Использование
Основной синтаксис команды выглядит следующим образом:

```bash
tcpdump [options] [arguments]
```

## Общие параметры
- `-i <interface>`: Указывает сетевой интерфейс для захвата трафика.
- `-n`: Отключает преобразование адресов в имена хостов, что ускоряет вывод.
- `-c <count>`: Ограничивает количество захватываемых пакетов.
- `-w <file>`: Записывает захваченные пакеты в файл для последующего анализа.
- `-r <file>`: Читает пакеты из файла, созданного с помощью параметра `-w`.

## Общие примеры
1. Захват всех пакетов на интерфейсе `eth0`:
   ```bash
   tcpdump -i eth0
   ```

2. Захват 10 пакетов и вывод их на экран:
   ```bash
   tcpdump -i eth0 -c 10
   ```

3. Запись захваченных пакетов в файл `capture.pcap`:
   ```bash
   tcpdump -i eth0 -w capture.pcap
   ```

4. Чтение пакетов из файла `capture.pcap`:
   ```bash
   tcpdump -r capture.pcap
   ```

5. Захват только HTTP-трафика:
   ```bash
   tcpdump -i eth0 'tcp port 80'
   ```

## Советы
- Используйте параметр `-n`, чтобы избежать задержек, связанных с разрешением имен хостов.
- Комбинируйте параметры для более точного захвата, например, `tcpdump -i eth0 -c 100 -w output.pcap` для записи первых 100 пакетов.
- Анализируйте захваченные данные с помощью инструментов, таких как Wireshark, для более глубокого анализа.