# [Linux] Bash tcpdump の使い方: ネットワークトラフィックのキャプチャ

## Overview
tcpdumpは、ネットワークトラフィックをキャプチャし、分析するための強力なコマンドラインツールです。特定のインターフェース上で流れるパケットを監視し、詳細な情報を提供します。

## Usage
基本的な構文は以下の通りです。

```bash
tcpdump [options] [arguments]
```

## Common Options
- `-i <interface>`: 監視するネットワークインターフェースを指定します。
- `-n`: ホスト名を解決せず、IPアドレスのままで表示します。
- `-v`: 詳細な出力を表示します。`-vv`や`-vvv`でさらに詳細になります。
- `-c <count>`: 指定した数のパケットをキャプチャしたら終了します。
- `-w <file>`: キャプチャしたパケットをファイルに書き込みます。

## Common Examples
以下に、tcpdumpの一般的な使用例を示します。

1. 特定のインターフェースで全トラフィックをキャプチャする:
   ```bash
   tcpdump -i eth0
   ```

2. IPアドレスを解決せずにパケットを表示する:
   ```bash
   tcpdump -i eth0 -n
   ```

3. 10個のパケットをキャプチャする:
   ```bash
   tcpdump -i eth0 -c 10
   ```

4. キャプチャしたパケットをファイルに保存する:
   ```bash
   tcpdump -i eth0 -w capture.pcap
   ```

5. 特定のポート（例: 80番ポート）でのトラフィックをキャプチャする:
   ```bash
   tcpdump -i eth0 port 80
   ```

## Tips
- tcpdumpを実行するには、通常、管理者権限が必要です。`sudo`を使用して実行することをお勧めします。
- キャプチャしたデータは、Wiresharkなどのツールで分析するためにファイルに保存することができます。
- 大量のトラフィックをキャプチャする場合は、`-c`オプションを使ってキャプチャ数を制限することで、システムの負荷を軽減できます。