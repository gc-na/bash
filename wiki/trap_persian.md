# [لینوکس] Bash trap استفاده: [مدیریت سیگنال‌ها و خطاها]

## Overview
دستور `trap` در Bash برای مدیریت سیگنال‌ها و خطاها استفاده می‌شود. این دستور به شما این امکان را می‌دهد که در هنگام دریافت سیگنال‌های خاص یا بروز خطاها، دستورات خاصی را اجرا کنید.

## Usage
سینتکس پایه دستور `trap` به صورت زیر است:

```bash
trap [options] [arguments]
```

## Common Options
- `SIGINT`: سیگنال قطع (Ctrl+C) را مدیریت می‌کند.
- `SIGTERM`: سیگنال خاتمه را مدیریت می‌کند.
- `EXIT`: دستوری را در هنگام خروج از اسکریپت اجرا می‌کند.
- `ERR`: دستوری را در صورت بروز خطا اجرا می‌کند.

## Common Examples

### مثال ۱: مدیریت سیگنال Ctrl+C
```bash
trap 'echo "سیگنال قطع دریافت شد!"' SIGINT
while true; do
    echo "در حال اجرا..."
    sleep 1
done
```

### مثال ۲: اجرای دستوری در هنگام خروج
```bash
trap 'echo "خروج از اسکریپت..."' EXIT
echo "این یک اسکریپت نمونه است."
```

### مثال ۳: مدیریت خطاها
```bash
trap 'echo "یک خطا رخ داد!"' ERR
false  # این دستور خطا می‌دهد
```

## Tips
- از `trap` برای جلوگیری از از دست دادن داده‌ها در هنگام قطع ناگهانی اسکریپت استفاده کنید.
- می‌توانید چندین سیگنال را به یک دستور متصل کنید.
- همیشه دستورات `trap` را در ابتدای اسکریپت خود قرار دهید تا از بروز مشکلات جلوگیری شود.