# [Linux] Bash ulimit 使用等价: 限制用户进程资源

## 概述
`ulimit` 命令用于控制用户进程可以使用的系统资源的限制。通过设置这些限制，用户可以防止进程过度消耗系统资源，从而影响系统的稳定性和性能。

## 用法
基本语法如下：
```bash
ulimit [选项] [参数]
```

## 常用选项
- `-a`：显示所有当前的资源限制。
- `-c`：设置或显示核心文件的大小限制。
- `-d`：设置或显示数据段的大小限制。
- `-f`：设置或显示文件大小限制。
- `-l`：设置或显示可锁定内存的大小限制。
- `-m`：设置或显示物理内存的大小限制。
- `-n`：设置或显示每个用户进程可以打开的文件描述符的数量。
- `-s`：设置或显示栈的大小限制。
- `-t`：设置或显示进程的最大运行时间（秒）。
- `-u`：设置或显示每个用户可以创建的进程数量。

## 常见示例
1. 显示所有资源限制：
   ```bash
   ulimit -a
   ```

2. 设置最大打开文件数为 1024：
   ```bash
   ulimit -n 1024
   ```

3. 设置栈的大小限制为 8MB：
   ```bash
   ulimit -s 8192
   ```

4. 显示核心文件大小限制：
   ```bash
   ulimit -c
   ```

5. 设置每个用户可以创建的最大进程数为 100：
   ```bash
   ulimit -u 100
   ```

## 提示
- 在修改资源限制时，建议先使用 `ulimit -a` 查看当前设置，以避免不必要的冲突。
- 对于需要大量资源的应用程序，可以在启动它们之前调整相应的限制。
- 记得在 shell 启动脚本（如 `.bashrc` 或 `.bash_profile`）中设置 `ulimit`，以便每次登录时都能应用这些限制。