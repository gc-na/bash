# [Linux] Bash sed Использование: Обработка текстовых потоков

## Обзор
Команда `sed` (stream editor) используется для обработки и трансформации текстовых потоков. Она позволяет выполнять различные операции, такие как замена текста, удаление строк и вставка новых строк, что делает её мощным инструментом для работы с текстовыми файлами и данными.

## Использование
Основной синтаксис команды `sed` выглядит следующим образом:

```bash
sed [options] [arguments]
```

## Общие параметры
- `-e` : Позволяет указать несколько команд для выполнения.
- `-i` : Изменяет файл на месте, без создания резервной копии.
- `-n` : Подавляет автоматический вывод, позволяет выводить только те строки, которые явно указаны.
- `s/pattern/replacement/` : Замена текста, где `pattern` — это шаблон, а `replacement` — текст, на который будет произведена замена.

## Общие примеры
1. **Замена текста в строке**:
   Заменить "apple" на "orange" в файле `fruits.txt`:
   ```bash
   sed 's/apple/orange/' fruits.txt
   ```

2. **Замена текста и запись в файл**:
   Заменить "cat" на "dog" в файле `pets.txt` и сохранить изменения:
   ```bash
   sed -i 's/cat/dog/' pets.txt
   ```

3. **Удаление строк, содержащих определённый текст**:
   Удалить все строки, содержащие слово "delete" из файла `notes.txt`:
   ```bash
   sed '/delete/d' notes.txt
   ```

4. **Вывод только определённых строк**:
   Вывести только строки 2-4 из файла `data.txt`:
   ```bash
   sed -n '2,4p' data.txt
   ```

5. **Замена текста на нескольких строках**:
   Заменить "foo" на "bar" в первых 3 строках файла `example.txt`:
   ```bash
   sed '1,3s/foo/bar/' example.txt
   ```

## Советы
- Используйте `-i` с осторожностью, так как изменения будут необратимыми. Рекомендуется сначала делать резервные копии файлов.
- Для сложных замен используйте регулярные выражения, чтобы повысить гибкость поиска.
- Тестируйте команды без `-i`, чтобы убедиться, что они работают так, как вы ожидаете, прежде чем вносить изменения в файлы.