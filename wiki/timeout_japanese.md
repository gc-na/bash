# [Linux] Bash timeout の使い方: コマンドの実行時間を制限する

## 概要
`timeout` コマンドは、指定した時間内に完了しないプロセスを強制的に終了させるためのコマンドです。これにより、長時間実行される可能性のあるコマンドやスクリプトを管理することができます。

## 使用法
基本的な構文は次のとおりです。

```bash
timeout [オプション] [時間] [コマンド] [引数]
```

## 一般的なオプション
- `-k, --kill-after=DURATION` : 指定した時間が経過した後、プロセスを強制終了するまでの猶予時間を設定します。
- `-s, --signal=SIGNAL` : プロセスに送信するシグナルを指定します。デフォルトは `TERM` です。
- `--preserve-status` : コマンドの終了ステータスをそのまま保持します。

## 一般的な例
以下に、`timeout` コマンドのいくつかの実用的な例を示します。

### 例1: 5秒でタイムアウトするコマンド
```bash
timeout 5s sleep 10
```
このコマンドは、10秒間スリープする `sleep` コマンドを実行しますが、5秒後に強制終了されます。

### 例2: 特定のシグナルを送信する
```bash
timeout -s SIGKILL 3m long_running_command
```
このコマンドは、3分間実行される `long_running_command` に対して、タイムアウト後に `SIGKILL` シグナルを送信します。

### 例3: 終了ステータスを保持する
```bash
timeout --preserve-status 10s command_that_may_fail
```
このコマンドは、10秒以内に終了しない場合でも、`command_that_may_fail` の終了ステータスを保持します。

## ヒント
- タイムアウトの時間は、秒（s）、分（m）、時間（h）などの単位で指定できます。
- 長時間実行されるプロセスを監視する場合は、`timeout` を使用してリソースの無駄遣いを防ぎましょう。
- スクリプト内で `timeout` を使用することで、予期しない無限ループを防ぐことができます。