# [Linux] Bash mapfile การใช้งาน: ใช้สำหรับอ่านข้อมูลจากไฟล์ไปยังอาร์เรย์

## Overview
คำสั่ง `mapfile` ใน Bash ใช้สำหรับอ่านข้อมูลจากไฟล์หรือสแตนด์อัลโลนและเก็บข้อมูลเหล่านั้นลงในอาร์เรย์ โดยที่แต่ละบรรทัดของข้อมูลจะถูกเก็บในแต่ละตำแหน่งของอาร์เรย์

## Usage
รูปแบบพื้นฐานของคำสั่ง `mapfile` คือ:

```bash
mapfile [options] [arguments]
```

## Common Options
- `-t`: ตัดอักขระใหม่ (newline) ออกจากแต่ละบรรทัดที่อ่านเข้ามา
- `-n <number>`: อ่านเฉพาะจำนวนบรรทัดที่ระบุ
- `-O <number>`: ระบุจุดเริ่มต้นของการเก็บข้อมูลในอาร์เรย์

## Common Examples
### ตัวอย่างที่ 1: อ่านไฟล์และเก็บลงในอาร์เรย์
```bash
mapfile lines < myfile.txt
```
ในตัวอย่างนี้ ข้อมูลทั้งหมดจาก `myfile.txt` จะถูกเก็บลงในอาร์เรย์ชื่อ `lines`

### ตัวอย่างที่ 2: อ่านไฟล์โดยไม่เก็บอักขระใหม่
```bash
mapfile -t lines < myfile.txt
```
ใช้ตัวเลือก `-t` เพื่อไม่ให้มีอักขระใหม่ในแต่ละบรรทัดที่เก็บในอาร์เรย์

### ตัวอย่างที่ 3: อ่านเฉพาะจำนวนบรรทัดที่กำหนด
```bash
mapfile -n 5 lines < myfile.txt
```
ในตัวอย่างนี้ จะอ่านเฉพาะ 5 บรรทัดแรกจาก `myfile.txt` และเก็บลงในอาร์เรย์

## Tips
- ใช้ตัวเลือก `-t` เสมอเมื่อคุณไม่ต้องการให้มีอักขระใหม่ในอาร์เรย์
- ตรวจสอบขนาดของอาร์เรย์หลังจากใช้ `mapfile` เพื่อให้แน่ใจว่าข้อมูลถูกเก็บอย่างถูกต้อง
- คำสั่ง `mapfile` สามารถใช้ร่วมกับคำสั่งอื่น ๆ ใน Bash เพื่อสร้างสคริปต์ที่มีประสิทธิภาพมากขึ้น