# [لینوکس] Bash local استفاده: تعریف متغیرهای محلی

## Overview
دستور `local` در Bash برای تعریف متغیرهای محلی درون توابع استفاده می‌شود. این متغیرها تنها در محدوده تابعی که در آن تعریف شده‌اند قابل دسترسی هستند و پس از پایان اجرای تابع، از بین می‌روند.

## Usage
سینتکس پایه دستور `local` به صورت زیر است:

```bash
local [options] [variable_name=value]
```

## Common Options
- `-n`: این گزینه به متغیر محلی یک نام اشاره می‌دهد و به جای مقداردهی، به متغیر دیگری ارجاع می‌دهد.
- `-i`: این گزینه متغیر را به عنوان یک عدد صحیح تعریف می‌کند.

## Common Examples

### مثال ۱: تعریف یک متغیر محلی
```bash
my_function() {
    local my_var="Hello, World!"
    echo $my_var
}
my_function
```
در این مثال، متغیر `my_var` تنها درون تابع `my_function` قابل دسترسی است.

### مثال ۲: استفاده از متغیر محلی در یک حلقه
```bash
my_function() {
    for i in {1..5}; do
        local count=$i
        echo "Count is: $count"
    done
}
my_function
```
در اینجا، متغیر `count` برای هر تکرار حلقه تعریف می‌شود و فقط درون آن تکرار قابل دسترسی است.

### مثال ۳: استفاده از گزینه -n
```bash
my_function() {
    local -n ref_var=my_var
    ref_var="New Value"
}
my_var="Original Value"
my_function
echo $my_var
```
در این مثال، با استفاده از گزینه `-n`، متغیر `ref_var` به متغیر `my_var` اشاره می‌کند و مقدار آن را تغییر می‌دهد.

## Tips
- همیشه از `local` برای تعریف متغیرها در توابع استفاده کنید تا از تداخل با متغیرهای سراسری جلوگیری کنید.
- اگر نیاز به ارجاع به متغیرهای دیگر دارید، از گزینه `-n` استفاده کنید.
- برای جلوگیری از خطاهای ناخواسته، نام متغیرهای محلی را به گونه‌ای انتخاب کنید که با متغیرهای سراسری تداخل نداشته باشند.