# [لينكس] Bash mapfile الاستخدام: قراءة محتويات الملفات في مصفوفة

## Overview
أمر `mapfile` في Bash يُستخدم لقراءة محتويات ملف نصي وتخزينها في مصفوفة. يُعتبر هذا الأمر مفيدًا عندما تحتاج إلى معالجة البيانات من ملف دون الحاجة إلى استخدام حلقات أو أوامر إضافية.

## Usage
يمكن استخدام الأمر `mapfile` بالشكل التالي:

```bash
mapfile [options] [arguments]
```

## Common Options
- `-t`: يحذف أحرف نهاية السطر من كل عنصر في المصفوفة.
- `-n N`: يقرأ N سطرًا فقط من الملف.
- `-O N`: يبدأ التخزين في المصفوفة من الفهرس N.

## Common Examples

### قراءة ملف نصي كامل إلى مصفوفة
```bash
mapfile lines < myfile.txt
```
في هذا المثال، يتم قراءة جميع الأسطر من `myfile.txt` وتخزينها في المصفوفة `lines`.

### قراءة أول 5 أسطر من ملف
```bash
mapfile -n 5 lines < myfile.txt
```
هنا، يتم قراءة أول 5 أسطر فقط من `myfile.txt`.

### استخدام الخيار -t لحذف أحرف نهاية السطر
```bash
mapfile -t lines < myfile.txt
```
هذا الأمر يقرأ الأسطر من `myfile.txt` ويخزنها في المصفوفة `lines` مع حذف أحرف نهاية السطر.

### بدء التخزين من فهرس معين
```bash
mapfile -O 2 lines < myfile.txt
```
في هذا المثال، يتم بدء التخزين في المصفوفة `lines` من الفهرس 2، مما يعني أن العناصر في الفهرس 0 و1 ستبقى فارغة.

## Tips
- تأكد من استخدام الخيار `-t` إذا كنت لا تحتاج إلى أحرف نهاية السطر، مما يسهل معالجة البيانات.
- استخدم `declare -p` لعرض محتويات المصفوفة بعد استخدام `mapfile` للتحقق من البيانات المخزنة.
- يمكن دمج `mapfile` مع الأوامر الأخرى في Bash لتسهيل معالجة البيانات بشكل أكثر كفاءة.