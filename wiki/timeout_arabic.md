# [لينكس] Bash timeout الاستخدام: تحديد مدة تنفيذ الأوامر

## Overview
أمر `timeout` في Bash يُستخدم لتحديد مدة زمنية معينة لتنفيذ أمر معين. إذا لم يكتمل الأمر خلال هذه المدة، يقوم `timeout` بإيقافه تلقائيًا. هذا مفيد في حالات مثل العمليات التي قد تستغرق وقتًا طويلاً أو التي قد تتعطل.

## Usage
الصيغة الأساسية للأمر هي:

```bash
timeout [options] [duration] [command]
```

## Common Options
- `-k, --kill-after=DURATION`: يحدد مدة إضافية قبل قتل العملية.
- `--preserve-status`: يحتفظ بحالة الخروج للأمر الأصلي.
- `-v, --verbose`: طباعة معلومات إضافية حول الأمر الذي تم تنفيذه.

## Common Examples
### مثال 1: تنفيذ أمر مع تحديد مدة
لتنفيذ أمر `sleep` لمدة 5 ثوانٍ، مع تحديد مدة 3 ثوانٍ، يمكن استخدام:

```bash
timeout 3s sleep 5
```
سيتم إيقاف الأمر `sleep` بعد 3 ثوانٍ.

### مثال 2: استخدام خيار kill-after
لإيقاف عملية بعد 10 ثوانٍ، مع إعطاء العملية 2 ثانية إضافية قبل القتل:

```bash
timeout -k 2s 10s sleep 20
```
سيتم إيقاف الأمر `sleep` بعد 10 ثوانٍ، ولكن سيتم إعطاءه 2 ثانية إضافية قبل القتل.

### مثال 3: الحفاظ على حالة الخروج
لتنفيذ أمر مع الحفاظ على حالة الخروج:

```bash
timeout --preserve-status 5s ls
```
إذا استغرق الأمر `ls` أكثر من 5 ثوانٍ، سيتم إيقافه، ولكن سيتم الاحتفاظ بحالة الخروج الخاصة به.

## Tips
- استخدم `timeout` مع الأوامر التي قد تستغرق وقتًا طويلاً لتجنب الانتظار غير الضروري.
- تأكد من تحديد مدة زمنية مناسبة للأمر الذي تقوم بتنفيذه.
- استخدم خيار `--verbose` للحصول على معلومات إضافية حول تنفيذ الأوامر.