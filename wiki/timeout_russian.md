# [Linux] Bash timeout использование: ограничение времени выполнения команд

## Обзор
Команда `timeout` в Bash используется для ограничения времени выполнения других команд. Она позволяет задать максимальное время, в течение которого команда может выполняться, после чего она будет принудительно завершена.

## Использование
Основной синтаксис команды `timeout` выглядит следующим образом:

```bash
timeout [options] [duration] [command] [arguments]
```

## Общие параметры
- `duration`: Время, в течение которого команда может выполняться, заданное в формате `[NUMBER][SUFFIX]`, где `SUFFIX` может быть `s` (секунды), `m` (минуты), `h` (часы) или `d` (дни).
- `command`: Команда, которую вы хотите выполнить.
- `options`: Дополнительные параметры, такие как:
  - `-k`: Указывает время, в течение которого команда будет принудительно завершена после истечения основного времени.
  - `--preserve-status`: Сохраняет код возврата команды, даже если она была завершена из-за истечения времени.

## Примеры использования
Вот несколько практических примеров использования команды `timeout`:

1. Ограничение времени выполнения команды `sleep` на 5 секунд:

   ```bash
   timeout 5s sleep 10
   ```

   В этом случае команда `sleep` будет завершена через 5 секунд, даже если она была запланирована на 10 секунд.

2. Принудительное завершение команды `ping` через 10 секунд:

   ```bash
   timeout 10s ping google.com
   ```

   Команда `ping` будет выполняться в течение 10 секунд, после чего будет остановлена.

3. Использование параметра `-k` для принудительного завершения:

   ```bash
   timeout -k 5s 10s sleep 20
   ```

   Здесь команда `sleep` будет завершена через 10 секунд, а если она не завершится, то через дополнительные 5 секунд будет принудительно остановлена.

## Советы
- Используйте `timeout` для предотвращения зависания скриптов, особенно при выполнении сетевых запросов или длительных операций.
- Убедитесь, что вы правильно указываете время, чтобы избежать преждевременного завершения команд, которые могут требовать больше времени.
- Применяйте параметр `--preserve-status`, если вам важно сохранить код возврата команды для дальнейшей обработки.