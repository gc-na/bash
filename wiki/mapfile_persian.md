# [لینوکس] Bash mapfile استفاده: خواندن فایل‌ها به آرایه‌ها

## Overview
دستور `mapfile` در Bash برای خواندن خطوط یک فایل و ذخیره آن‌ها به عنوان عناصر یک آرایه استفاده می‌شود. این دستور به شما امکان می‌دهد تا به راحتی داده‌ها را از فایل‌ها به متغیرهای آرایه‌ای منتقل کنید.

## Usage
سینتکس پایه دستور `mapfile` به صورت زیر است:

```bash
mapfile [options] [arguments]
```

## Common Options
- `-t`: این گزینه باعث می‌شود که کاراکترهای جدید خط از انتهای هر خط حذف شوند.
- `-n <number>`: تعداد خطوطی که باید خوانده شوند را مشخص می‌کند.
- `-O <index>`: مشخص می‌کند که آرایه از کدام ایندکس شروع به پر شدن کند.

## Common Examples
### مثال ۱: خواندن یک فایل به آرایه
```bash
mapfile lines < myfile.txt
echo "${lines[@]}"
```
در این مثال، تمام خطوط موجود در `myfile.txt` به آرایه `lines` منتقل می‌شوند و سپس با استفاده از `${lines[@]}` نمایش داده می‌شوند.

### مثال ۲: حذف کاراکترهای جدید خط
```bash
mapfile -t lines < myfile.txt
echo "${lines[@]}"
```
با استفاده از گزینه `-t`، کاراکترهای جدید خط از انتهای هر خط حذف می‌شوند.

### مثال ۳: خواندن تعداد مشخصی از خطوط
```bash
mapfile -n 5 lines < myfile.txt
echo "${lines[@]}"
```
در این مثال، تنها ۵ خط اول از `myfile.txt` به آرایه `lines` منتقل می‌شوند.

### مثال ۴: شروع از ایندکس خاص
```bash
mapfile -O 2 lines < myfile.txt
echo "${lines[@]}"
```
در اینجا، آرایه `lines` از ایندکس ۲ شروع به پر شدن می‌کند، بنابراین دو عنصر اول آرایه خالی خواهند بود.

## Tips
- از گزینه `-t` استفاده کنید تا از مشکلات ناشی از کاراکترهای جدید خط جلوگیری کنید.
- برای خواندن فایل‌های بزرگ، می‌توانید از گزینه `-n` برای محدود کردن تعداد خطوطی که می‌خواهید بخوانید، استفاده کنید.
- به یاد داشته باشید که آرایه‌ها در Bash از ایندکس ۰ شروع می‌شوند، بنابراین هنگام استفاده از گزینه `-O` به این نکته توجه کنید.